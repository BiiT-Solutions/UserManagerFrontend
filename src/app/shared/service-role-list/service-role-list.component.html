<biit-table #service_roles
  *ngIf="columns.length"
  [columns]="columns"
  [defaultPageSize]="10"
  [data]="data"
  [pageSizes]="pageSizes"
  [loading]="loading"
  (onUpdate)="onTableUpdate($event)"
  selectable sortable>
  <button biit-icon icon="plus"
          title="{{'add' | transloco}}"
          (click)="onAdd()"
  ></button>
  <button biit-icon icon="minus"
          title="{{'delete' | transloco}}"
          (click)="onDelete(service_roles.getSelectedRows(), false)"
          [disabled]="!service_roles.getSelectedRows().length"
  ></button>
</biit-table>

<biit-popup *ngIf="role != null" [title]="'roles.create_role' | transloco">
  <div>
    <biit-input-text [placeholder]="'name' | transloco" [(ngModel)]="role"></biit-input-text>
    <div class="flex-grow horizontal buttons-row">
      <button biit-button secondary (click)="role = undefined">{{'cancel' | transloco}}</button>
      <button biit-button primary (click)="onSave()">{{'save' | transloco}}</button>
    </div>
  </div>
</biit-popup>

<biit-popup *ngIf="confirm === 'DELETE'"
            dark-bg no-header
>
  <div class="vertical">
    <div>{{'confirm_delete' | transloco}}</div>
    <div class="flex-grow horizontal buttons-row">
      <button biit-button secondary (click)="confirm = null">{{'cancel' | transloco}}</button>
      <button biit-button primary (click)="onDelete(selectedToDelete, true)">{{'delete' | transloco}}</button>
    </div>
  </div>

</biit-popup>
